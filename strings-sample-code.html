<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Strings</title>
	<script>
	window.addEventListener("load", ()=>{


		// Strings are objects that have properties and methods (length, toUpperCase())
		// In this activity we are going to explore the string 'API', which is a fancy
		// way of saying that we're going to explore the properties and methods that
		// allow us to 'interface' with a string object.

		// let's interface with this string by checking it's length property
		// and calling its toUpperCase() method:
		const someString = "https://www.acme.com/products/some-product-page.html";
        console.log(someString.length);
        console.log(someString.toUpperCase());

		// Before moving on, let's talk about 'escape characters':
        //alert("Hello \n \t World")

		// Strings are a type of array
        console.log(someString[0]);

		// You can loop through each character in a string:
        for(let x = 0; x < someString.length; x++){
            console.log(someString[x]);
        }

		// But strings do not have a forEach() method
		//someString.forEach(c => console.log(c)); // This will crash!


		// The indexOf() method
        console.log(someString.indexOf("www"));
        console.log(someString.indexOf("xxx"));


		// trim()
		const str = " \n xxx  \t  ";
        //console.log(str);
        const newStr = str.trim();
        console.log(newStr);

		// replace();
		const str2 = "It's raining cats and dogs";
        console.log(str2.replace("cats", "guinea pigs"));

		// You can do a 'global' replace
		const str3 = "I like to eat, eat, eat!";
        const str4 = str3.replace(/eat/g, "sleep");
        console.log(str4);

		// split()
		const someDate = "2/22/2024";
        const dateParts = someDate.split("/");
        console.log(dateParts);

        console.log(dateParts.join("-"));

		// getting a rough word count
		const someStory = "A long time ago, in a galaxy far, far away...";
        const words = someStory.split(" ");
        console.log(words.length);


		// OPTIONAL STUFF
		// slice(), substr(), substring()


		// The split() method comes in handy when parsing CSV data:
		const csvData = `ID, NAME, AGE, BREED
						 1, Buster, 7, Boxer
						 2, Lucy, 4, Black Lab`;

		// Paste the value of the csvData variable into a file named dogs.csv
		// And then open it in Xcel
        const rows = csvData.split("\n");
        console.log(rows);

        const dogs = [];

        for(let x = 1; x < rows.length; x++){
            const cells = rows[x].split(",");
            const dogObj = {
                id: cells[0].trim(),
                name: cells[1].trim(),
                age: cells[2].trim(),
                breed: cells[3].trim()
            };
            dogs.push(dogObj);
        }
        console.log(dogs);

	});
	</script>
</head>
<body>
	<h1>The String API</h1>
</body>
</html>