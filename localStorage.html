<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Local Storage</title>
	<script type="text/javascript">
	window.addEventListener("load", () => {

		let users = [
		  {id: 7, firstName:"Bob", lastName:"Smith", email:"bob@smith.com"},
		  {id: 96, firstName:"Betty", lastName:"Smith", email:"betty@smith.com"},
		  {id: 33, firstName:"Barney", lastName:"Smith", email:"barney@smith.com"}
		];

	    // We'll put our JavaScript code here
        console.log(localStorage);

        const currentUser = localStorage.getItem("userName");
        if(currentUser){
            document.querySelector("#user-name").innerHTML = "Hello " + currentUser;
        }else{
            const input = prompt("Enter your name!");
            localStorage.setItem("userName", input);
        }

        localStorage.setItem("someKey", "some value");
        console.log(localStorage.length);
        const value = localStorage.getItem("someKey");
        console.log(value);

        let usersJSON = JSON.stringify(users);
        localStorage.setItem("allUsers", usersJSON);

        users = JSON.parse(localStorage.getItem("allUsers"));
        console.log(users);

        for(let x = 0; x < localStorage.length; x++){
            const keyName = localStorage.key(x);
            const keyValue = localStorage.getItem(keyName);
            console.log(keyName, keyValue);
        }

	});
	</script>
</head>
<body>
	<h1>Local Storage</h1>
	<h2 id="user-name"></h2>
</body>
</html>